<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Evaluator Workflow • evaluator</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Google analytics --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-87348339-3', 'auto');
  ga('send', 'pageview');

</script>
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">evaluator</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/usage.html">Geting Started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="http://github.com/davidski/evaluator">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Evaluator Workflow</h1>
                        <h4 class="author">David F. Severski</h4>
            
            <h4 class="date">2018-01-12</h4>
          </div>

    
    
<div class="contents">
<div id="background" class="section level1">
<h1 class="hasAnchor">
<a href="#background" class="anchor"></a>Background</h1>
<p>The first iterations of Evaluator were created as a part of a major healthcare organization’s decision to shift its already mature risk assessment program from reliance on qualitative labels to a quantitative model that would support more precise comparison of competing projects. This organization was able to use statistical sampling to gain greater insight into its information risks, to meet HIPAA compliance obligations and to provide manager to board level business leaders with the data needed to drive decision making.</p>
<p>Since its creation, versions of Evaluator have been deployed both inside and outside the healthcare field.</p>
</div>
<div id="how-to-use" class="section level1">
<h1 class="hasAnchor">
<a href="#how-to-use" class="anchor"></a>How to Use</h1>
<p>The Evaluator toolkit consists of a series of processes implemented in the <a href="https://www.r-project.org/">R language</a>. Starting from an Excel workbook, risk data is imported and run through a simulation model to estimate the expected losses for each scenario. The results of these simulations are used to create a detailed analysis and a formal risk report. A starter analysis report, overview dashboard and sample <a href="https://shiny.rstudio.com/">Shiny</a> application are all included in the toolkit.</p>
<p>Evaluator takes a domain-driven and framework-independent approach to strategic security risk analysis. It is compatible with ISO, COBIT, HITRUST CSF, PCI-DSS or any other model used for organizing an information security program. If you are able to describe the domains of your program and the controls and threat scenarios applicable to each domain, you will be able to use Evaluator!</p>
<div id="instructions" class="section level2">
<h2 class="hasAnchor">
<a href="#instructions" class="anchor"></a>Instructions</h2>
<p>This README does not define terms commonly used in an OpenFAIR analysis. While not a prerequisite, a review of OpenFAIR methodology and terminology is highly recommended. Familiarity with the R language is also very helpful.</p>
<p>Follow these seven steps to run the toolkit:</p>
<ol style="list-style-type: decimal">
<li>Define your controls and risk scenarios</li>
<li>Import the scenarios</li>
<li>Validate the data is ready for simulation</li>
<li>Encode the qualitative labels into quantiative parameters</li>
<li>Run the simulations</li>
<li>Summarize the simulation outputs</li>
<li>Analyze the results</li>
</ol>
<p>Don’t be intimidated by the process. Evaluator is with you at every step!</p>
<div id="prepare-the-environment" class="section level3">
<h3 class="hasAnchor">
<a href="#prepare-the-environment" class="anchor"></a>Prepare the Environment</h3>
<p>A working <a href="https://www.r-project.org/">R interpreter</a> is required. Evaluator should work on any current version of R (v3.4.1 as of this writing) and on any supported platform (Windows, MacOS, or Linux). This vignette assumes the use of <a href="https://www.rstudio.com/">RStudio IDE</a> for some presentation details, but the core Evaluator functions may be used with any IDE.</p>
<p>Obtain the Evaluator toolkit either from CRAN via <code>install.packages("evaluator")</code> or the current development version via <code><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">devtools::install_github('davidski/evaluator')</a></code>.</p>
<p>If you would like to work with the supplied sample data files, execute the following code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)     <span class="co"># piping</span>
<span class="kw">library</span>(readr)     <span class="co"># better CSV handling</span>
<span class="kw">library</span>(evaluator) <span class="co"># core evaluator toolkit</span>

<span class="co"># create default directories</span>
input_directory &lt;-<span class="st"> "~/evaluator/data"</span>
results_directory &lt;-<span class="st"> "~/evaluator/results"</span>
<span class="cf">if</span> (<span class="op">!</span><span class="kw">dir.exists</span>(input_directory)) <span class="kw">dir.create</span>(input_directory, <span class="dt">recursive =</span> <span class="ot">TRUE</span>)
<span class="cf">if</span> (<span class="op">!</span><span class="kw">dir.exists</span>(results_directory)) <span class="kw">dir.create</span>(results_directory, <span class="dt">recursive =</span> <span class="ot">TRUE</span>)

<span class="co"># copy sample files</span>
<span class="kw">file.copy</span>(<span class="kw">system.file</span>(<span class="st">"extdata"</span>, <span class="st">"domains.csv"</span>, <span class="dt">package =</span> <span class="st">"evaluator"</span>), 
          input_directory)
<span class="kw">file.copy</span>(<span class="kw">system.file</span>(<span class="st">"extdata"</span>, <span class="st">"qualitative_mappings.csv"</span>, <span class="dt">package=</span><span class="st">"evaluator"</span>), 
          input_directory)
<span class="kw">file.copy</span>(<span class="kw">system.file</span>(<span class="st">"extdata"</span>, <span class="st">"risk_tolerances.csv"</span>, <span class="dt">package =</span> <span class="st">"evaluator"</span>), 
          input_directory)
<span class="kw">file.copy</span>(<span class="kw">system.file</span>(<span class="st">"survey"</span>, <span class="st">"survey.xlsx"</span>, <span class="dt">package =</span> <span class="st">"evaluator"</span>),
          input_directory)</code></pre></div>
</div>
<div id="define-your-controls-and-security-domains" class="section level3">
<h3 class="hasAnchor">
<a href="#define-your-controls-and-security-domains" class="anchor"></a>Define Your Controls and Security Domains</h3>
<p>Evaluator needs to know the domains of your security program. These are the major buckets into which you subdivide your program, typically including areas such as Physical Security, Strategy, Policy, Business Continuity/Disaster Recovery, Technical Security, etc. Out of the box, Evaluator comes with a demonstration model based upon the <a href="https://hitrustalliance.net/hitrust-csf/">HITRUST CSF</a>. If you have a different domain structure (e.g. ISO2700x, NIST CSF, or COBIT), you will need to edit the <code>data/domains.csv</code> file to include the domain names and the domain IDs, and a shorthand abbreviation for the domain (such as POL for the Policy domain).</p>
<p>Indentifying the controls (or capabilities) and risk scenarios associated with each of your domains is critical to the final analysis. The elements are documented in an Excel workbook. The workbook includes one tab per domain, with each tab named after the domain IDs defined in the previous step. Each tab consists of a controls table and a threats table.</p>
<div id="controls-table" class="section level4">
<h4 class="hasAnchor">
<a href="#controls-table" class="anchor"></a>Controls Table</h4>
<p>The key objectives of each domain are defined in the domain controls table. While the specific controls will be unique to each organization, the sample spreadsheet included in Evaluator may be used as a model. It is best to avoid copying every technical control from, for example, ISO 27001 or COBIT, since most control frameworks are too fine-grained to provide the high level overview that Evaluator delivers. In practice, 50 controls or less will usually be sufficient to describe organizations of up to one to two billion USD in size. Each control must have a unique ID and should be assigned a difficulty (DIFF) score that ranks the maturity of the control on a CMM scale from Initial (lowest score) to Optimized (best of class).</p>
</div>
<div id="threats-table" class="section level4">
<h4 class="hasAnchor">
<a href="#threats-table" class="anchor"></a>Threats Table</h4>
<p>The threats table consists of the potential loss scenarios addressed by each domain of your security program. Each scenario is made up of a descriptive field that describes who did what to whom, the threat community that executed the attack (e.g. external hacktivist, internal workforce member, third party vendor), how often the threat actor acts upon your assets (TEF), the strength with which they act against your assets (TCap), the losses incurred (LM) and a comma-separated list of the control IDs that prevent the scenario.</p>
</div>
</div>
<div id="import-the-scenarios" class="section level3">
<h3 class="hasAnchor">
<a href="#import-the-scenarios" class="anchor"></a>Import the Scenarios</h3>
<p>To extract the spreadsheet into data files for further analysis, run <code><a href="../reference/import_spreadsheet.html">import_spreadsheet("PATH", domains)</a></code>. Evaluator will extract the data and save two comma seperated files in a <code>data</code> directory with the results.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">domains &lt;-<span class="st">  </span>readr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/readr/topics/read_delim">read_csv</a></span>(<span class="kw">file.path</span>(input_directory, <span class="st">"domains.csv"</span>))
<span class="kw">system.file</span>(<span class="st">"survey"</span>, <span class="st">"survey.xlsx"</span>, <span class="dt">package =</span> <span class="st">"evaluator"</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/import_spreadsheet.html">import_spreadsheet</a></span>(., domains, <span class="dt">output_dir =</span> input_directory)</code></pre></div>
</div>
<div id="validate-the-data" class="section level3">
<h3 class="hasAnchor">
<a href="#validate-the-data" class="anchor"></a>Validate the Data</h3>
<p>Run the command <code><a href="../reference/validate_scenarios.html">validate_scenarios()</a></code>. If there are data validation errors, the process will abort and an error message will be displayed. Correct the errors displayed, reimport, and repeat the validation process until there are no errors reported.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mappings &lt;-<span class="st">  </span>readr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/readr/topics/read_delim">read_csv</a></span>(<span class="kw">file.path</span>(input_directory, <span class="st">"qualitative_mappings.csv"</span>))
qualitative_scenarios &lt;-<span class="st"> </span>readr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/readr/topics/read_delim">read_csv</a></span>(<span class="kw">file.path</span>(input_directory, <span class="st">"qualitative_scenarios.csv"</span>))
capabilities &lt;-<span class="st"> </span>readr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/readr/topics/read_delim">read_csv</a></span>(<span class="kw">file.path</span>(input_directory, <span class="st">"capabilities.csv"</span>))
<span class="kw"><a href="../reference/validate_scenarios.html">validate_scenarios</a></span>(qualitative_scenarios, capabilities, domains, mappings)</code></pre></div>
</div>
<div id="encode-the-data" class="section level3">
<h3 class="hasAnchor">
<a href="#encode-the-data" class="anchor"></a>Encode the Data</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">quantitative_scenarios &lt;-<span class="st"> </span><span class="kw"><a href="../reference/encode_scenarios.html">encode_scenarios</a></span>(qualitative_scenarios, 
                                           capabilities, mappings)</code></pre></div>
</div>
<div id="run-the-simulations" class="section level3">
<h3 class="hasAnchor">
<a href="#run-the-simulations" class="anchor"></a>Run the Simulations</h3>
<p>Once the data is translated into quantitative scenarios and ready for simulation, run <code><a href="../reference/run_simulations.html">run_simulations(quantitative_scenarios)</a></code>. By default, Evaluator puts each scenario through 10,000 individual simulated years, modelling how often the threat actor will come into contact with your assets, the strength of the threat actor, the strength of your controls, and the losses involved in any situation where the threat strength exceeds your control strength. This simulation process can be computationally intense. The sample data set takes approximately 24 minutes to run on a 2016 MacBook Pro.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">simulation_results &lt;-<span class="st"> </span><span class="kw"><a href="../reference/run_simulations.html">run_simulations</a></span>(quantitative_scenarios, 
                                      <span class="dt">simulation_count =</span> 100L)
<span class="kw">save</span>(simulation_results, <span class="dt">file =</span> <span class="kw">file.path</span>(results_directory, <span class="st">"simulation_results.rda"</span>))</code></pre></div>
</div>
<div id="analyze-the-results" class="section level3">
<h3 class="hasAnchor">
<a href="#analyze-the-results" class="anchor"></a>Analyze the Results</h3>
<p>Several analysis functions are provided, including a template for a technical risk report. Assuming that the input files have been placed in a <code>data</code> directory and the simulation results and summary files in a <code>results</code> directory, the risk report can be generated via <code><a href="../reference/generate_report.html">generate_report(input_directory, results_directory)</a></code>. This will create a pre-populated risk report that identifies key scenarios and generates initial plots for to be used in creating a final analysis report. Other included report tools include <code><a href="../reference/risk_dashboard.html">risk_dashboard(input_directory, results_directory)</a></code>.</p>
<p>For interactive exploration, run <code><a href="../reference/explore_scenarios.html">explore_scenarios(input_directory, results_directory)</a></code> to launch a local copy of the Scenario Explorer application. The Scenario Explorer app may be used to view information about the individual scenarios and provides a sample overview of the entire program.</p>
<p>For more in depth analysis, the following data files may be used directly from R or from external business intelligence programs such as Tableau:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># summarize</span>
scenario_summary &lt;-<span class="st"> </span><span class="kw"><a href="../reference/summarize_scenarios.html">summarize_scenarios</a></span>(simulation_results)
domain_summary &lt;-<span class="st"> </span><span class="kw"><a href="../reference/summarize_domains.html">summarize_domains</a></span>(simulation_results, domains)

<span class="co"># or to save the summary files directly to disk</span>
<span class="kw"><a href="../reference/summarize_to_disk.html">summarize_to_disk</a></span>(<span class="dt">simulation_results =</span> simulation_results, <span class="dt">domains =</span> domains, results_directory)

<span class="co"># define risk tolerances</span>
risk_tolerances &lt;-<span class="st"> </span><span class="kw">system.file</span>(<span class="st">"extdata"</span>, <span class="st">"risk_tolerances.csv"</span>, 
                               <span class="dt">package=</span><span class="st">"evaluator"</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/readr/topics/read_delim">read_csv</a></span>()

<span class="co"># Explorer</span>
<span class="kw"><a href="../reference/explore_scenarios.html">explore_scenarios</a></span>(input_directory, results_directory)

<span class="co"># Sample Report</span>
<span class="kw"><a href="../reference/generate_report.html">generate_report</a></span>(input_directory, results_directory, <span class="st">"report.pdf"</span>, <span class="dt">format =</span> <span class="st">"pdf"</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>rstudioapi<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/rstudioapi/topics/viewer">viewer</a></span>()

<span class="co"># Risk Dashboard</span>
<span class="kw"><a href="../reference/risk_dashboard.html">risk_dashboard</a></span>(input_directory, results_directory) <span class="op">%&gt;%</span><span class="st"> </span>rstudioapi<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/rstudioapi/topics/viewer">viewer</a></span>()</code></pre></div>
<p>Or, to view that same report as a Word document for editing, use <code><a href="../reference/generate_report.html">generate_report(input_directory, results_directory, format = "word")</a></code>.</p>
<p>If you would rather work on the source RMarkdown file or direct editing and graphics tweaking, use <code>system.file("rmd, "analyze_risk.Rmd", package = "evaluator")</code> to find the location of the native template on your system.</p>
</div>
</div>
<div id="advanced-customization" class="section level2">
<h2 class="hasAnchor">
<a href="#advanced-customization" class="anchor"></a>Advanced Customization</h2>
<p>Evaluator makes several assumptions to get you up and running as quickly as possible. Advanced users may implement several different customizations including:</p>
<ul>
<li>Risk tolerances - Organizational risk tolerances at a “medium” and “high” level are defined in <code>risk_tolerances.csv</code>. Risk tolerances are the aggregate economic loss thresholds defined by your organization. These are not necessarily the same as the size of potential losses from individual scenarios. A good proxy for risk tolerance is the budget authority implemented in your organization. The size of purchase signoff required at the executive level is generally a good indicator of the minimum floor for high risk tolerance.</li>
<li>Qualitative mappings - The translation of qualitative labels such as “Frequent” threat events and “Optimized” controls are defined in <code>qualitative_mappings.csv</code>. The values in this mapping may be changed but they must use lowercase and agree with the values used in the survey spreadsheet. Changing the number of levels used for any qualitative label (e.g. changing High/Medium/Low to High/Medium/Low/VeryLow) is unsupported.</li>
<li>Styling - Look and feel (fonts, colors, etc.) is defined in the <code>styles/html-styles.css</code> and <code>styles/word-styles-reference.docx</code> files.</li>
</ul>
</div>
</div>
<div id="where-to-go-from-here" class="section level1">
<h1 class="hasAnchor">
<a href="#where-to-go-from-here" class="anchor"></a>Where to Go From Here</h1>
<p>While Evaluator is a powerful tool, it does not explicitly attempt to address complex analysis of security risks, interaction between risk scenarios, rolling up multiple levels of risk into aggregations, modelling secondary losses or other advanced topics. As you become more comfortable with quantitative risk analysis, you may wish to dive deeper into these areas (and I hope you do!).</p>
<p>Commercial Software</p>
<ul>
<li>
<a href="http://www.risklens.com/">RiskLens</a>, founded by the original creator of the FAIR methodology</li>
</ul>
<p>Blogs/Books/Training</p>
<ul>
<li>Russell C. Thomas’s excellent and provocative blog post on systemic <a href="http://exploringpossibilityspace.blogspot.com/2013/08/risk-management-out-with-old-in-with-new.html">Risk Management</a>
</li>
<li><a href="https://smile.amazon.com/gp/product/0124202314">Measuring and Managing Information Risk</a></li>
<li><a href="http://www.opengroup.org/certifications/openfair">OpenFAIR certification</a></li>
<li><a href="https://www.hubbardresearch.com/training/">Hubbard Decision Research calibration training</a></li>
</ul>
<p>Associations</p>
<ul>
<li><a href="http://www.fairinstitute.org/">FAIR Institute</a></li>
<li><a href="https://www.societyinforisk.org/">Society of Information Risk Analysts (SIRA)</a></li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#background">Background</a></li>
      <li>
<a href="#how-to-use">How to Use</a><ul class="nav nav-pills nav-stacked">
<li><a href="#instructions">Instructions</a></li>
      <li><a href="#advanced-customization">Advanced Customization</a></li>
      </ul>
</li>
      <li><a href="#where-to-go-from-here">Where to Go From Here</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by David Severski.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
